---
title: 清北集训Day3 网络流
date: 2017-04-30 08:02:23
tags: [清北集训,最大流,最小割,费用流]
---

# 清北集训Day3 网络流

<!--more-->

## Dinic
当前弧优化:用一个数组记录一下某个点增广到哪个点了,在它之前的点不用再增广一次了.

##　Collector's Problem (uva 10779)
考虑用一条流表示一种贴纸，不同流表示不同贴纸．
对于每种贴纸建一个点，向汇点连流量为１的边．
Bob从源点出发,向每种贴纸的点连流量为Bob有的数量的边.
Bob的朋友可能会把k-1张贴纸给Bob,也可能需求一张贴纸.
所以对于Bob的每个朋友建一个点,从每种贴纸向需求这种贴纸的Bob的朋友连流量为1的边,从每个Bob的朋友向每种他可以提供的贴纸连k-1的边.
这样求出来的最大流就是不同贴纸的最大数量.

## Course Selection (Codechef Dec14)
拆点,连边时考虑从100分扣多少分,所有限制再连边加限制.

## 石头剪刀布 (bzoj 2597)
如果一个人赢了k场,则一定有$\binom{k}{2}$个三元组满足不是石头剪刀布.目标为$\sum_{i}{\binom{k_i}{2}}$最小.
每个未定比赛设一个点,每个人建点,连边,这就是一个最小增费用最大流了.

## Annual Parade (codechef PARADE)
先跑Floyd.
把每个点拆成左右两个,从源点向X连流量为1,Y向T连流量为1,X向Y相邻的连流量为1费用为边权.
最小费用流.

## k-Maximum Subsequence Sum (codeforces 280)
网络流的连边比较显然.
网络流的正确性由于它可以退流以起到一个撤销的作用.
用线段数树维护.
如果只取一次,就取最大的.如果取两次,就把第一次取得取反,然后再取最大的.这样如果取k个也可以做了.